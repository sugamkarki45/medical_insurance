{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site locally.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> <li><code>mkdocs gh-build</code>- build the live site using github</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"api_overview/","title":"Insurance Claims Pre-Validation API","text":"<p>A fast, rule-based, local pre-validation engine for health insurance claims in Nepal, designed to catch 95%+ of claim rejections before they are submitted to the Insurance Board of Nepal (Beema Samiti) or IMIS.</p>"},{"location":"api_overview/#key-features","title":"Key Features","text":"<ul> <li>100% Local Validation \u2013 No internet required after initial rules sync  </li> <li>Validates against latest Health Insurance Board (HIB) rules (OPD ticket validity, co-payment, ceiling limits, referral rules, service grouping, etc.)  </li> <li>Supports OPD, IPD, and Emergency claims  </li> <li>Accurate co-payment &amp; claimable amount calculation (including remaining balance checks)  </li> <li>Package vs individual item claiming logic  </li> <li>Extensible JSON-based rule engine (easy to update when government rules change)  </li> <li>Comprehensive REST API with OpenAPI (Swagger) documentation  </li> <li>Fully tested with 95%+ coverage (unit + integration tests)  </li> <li>Built with FastAPI, SQLAlchemy, Pydantic v2, and PostgreSQL  </li> </ul>"},{"location":"api_overview/#why-this-matters","title":"Why This Matters","text":"<p>In Nepal, a very large percentage of claims are rejected on first submission due to simple rule violations. This API eliminates those errors at the hospital/pharmacy level, resulting in: - Faster reimbursements - Reduced paperwork and follow-ups - Higher staff efficiency - Better patient trust  </p>"},{"location":"get_all_claims/","title":"Get All Claims","text":"<p>Endpoint: <code>GET /patients</code></p>"},{"location":"get_all_claims/#response-example","title":"Response Example","text":"<pre><code>[\n  {\n  \"count\": 4,\n  \"results\": [\n    {\n      \"status\": \"checked\",\n      \"id\": 3,\n      \"items\": [\n        {\n          \"sequence_id\": 1,\n          \"item_code\": \"LAB140\",\n          \"status\": \"passed\"\n        }\n      ],\n      \"fetched_at\": \"2025-12-07T09:04:25.006121\",\n      \"service_code\": \"OPD1\",\n      \"department\": \"string\",\n      \"patient_id\": \"740500036\",\n      \"claim_code\": \"cl2\",\n      \"created_at\": \"2025-12-07T00:00:00\",\n      \"raw_response\": {\n        \"resourceType\": \"ClaimResponse\",\n        \"addItem\": [\n          {\n            \"sequenceLinkId\": [\n              1\n            ],\n            \"service\": {\n              \"coding\": [\n                {\n                  \"code\": \"LAB140\"\n                }\n              ]\n            }\n          }\n        ],\n        \"created\": \"2025-12-07\",\n        \"extension\": [\n          {\n            \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment+Claim+Total\",\n            \"valueDecimal\": 0.1,\n            \"valueMoney\": 50,\n            \"valueString\": \"NormalHibScheme \"\n          }\n        ],\n        \"id\": \"B53003DB-DD77-40CD-86C9-973CA2715D6D\",\n        \"identifier\": [\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"code\": \"ACSN\",\n                  \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n                }\n              ]\n            },\n            \"use\": \"usual\",\n            \"value\": \"B53003DB-DD77-40CD-86C9-973CA2715D6D\"\n          },\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"code\": \"MR\",\n                  \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n                }\n              ]\n            },\n            \"use\": \"usual\",\n            \"value\": \"cl2\"\n          }\n        ],\n        \"item\": [\n          {\n            \"adjudication\": [\n              {\n                \"amount\": {\n                  \"value\": 90\n                },\n                \"category\": {\n                  \"text\": \"general\"\n                },\n                \"extension\": [\n                  {\n                    \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment+Item+Value\",\n                    \"valueDecimal\": 0.1,\n                    \"valueMoney\": 50,\n                    \"valueString\": \"NormalHibScheme \"\n                  }\n                ],\n                \"reason\": {\n                  \"coding\": [\n                    {\n                      \"code\": \"1\"\n                    }\n                  ],\n                  \"text\": \"passed\"\n                }\n              }\n            ],\n            \"sequenceLinkId\": 1\n          }\n        ],\n        \"outcome\": {\n          \"coding\": [\n            {\n              \"code\": \"4\"\n            }\n          ],\n          \"text\": \"checked\"\n        },\n        \"request\": {\n          \"reference\": \"Claim/B53003DB-DD77-40CD-86C9-973CA2715D6D\"\n        }\n      },\n      \"service_type\": \"OPD\",\n      \"item_code\": [\n        {\n          \"item_code\": \"LAB140\",\n          \"name\": \"STRING\",\n          \"qty\": 1,\n          \"cost\": 0,\n          \"category\": \"service\",\n          \"type\": \"medicine\"\n        }\n      ]\n    }\n]}]\n</code></pre>"},{"location":"get_claim_by_uuid/","title":"Get Claim by UUID","text":"<p>Endpoint: <code>GET /patients/{uuid}</code></p>"},{"location":"get_claim_by_uuid/#header","title":"Header","text":"<pre><code>{\n  \"patient_id\":\"patient_uuid\"\n}\n</code></pre>"},{"location":"get_claim_by_uuid/#response-example","title":"Response Example","text":"<pre><code>{\n  \"count\": 4,\n  \"results\": [\n    {\n      \"status\": \"checked\",\n      \"id\": 3,\n      \"items\": [\n        {\n          \"sequence_id\": 1,\n          \"item_code\": \"LAB140\",\n          \"status\": \"passed\"\n        }\n      ],\n      \"fetched_at\": \"2025-12-07T09:04:25.006121\",\n      \"service_code\": \"OPD1\",\n      \"department\": \"string\",\n      \"patient_id\": \"740500036\",\n      \"claim_code\": \"cl2\",\n      \"created_at\": \"2025-12-07T00:00:00\",\n      \"raw_response\": {\n        \"resourceType\": \"ClaimResponse\",\n        \"addItem\": [\n          {\n            \"sequenceLinkId\": [\n              1\n            ],\n            \"service\": {\n              \"coding\": [\n                {\n                  \"code\": \"LAB140\"\n                }\n              ]\n            }\n          }\n        ],\n        \"created\": \"2025-12-07\",\n        \"extension\": [\n          {\n            \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment+Claim+Total\",\n            \"valueDecimal\": 0.1,\n            \"valueMoney\": 50,\n            \"valueString\": \"NormalHibScheme \"\n          }\n        ],\n        \"id\": \"B53003DB-DD77-40CD-86C9-973CA2715D6D\",\n        \"identifier\": [\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"code\": \"ACSN\",\n                  \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n                }\n              ]\n            },\n            \"use\": \"usual\",\n            \"value\": \"B53003DB-DD77-40CD-86C9-973CA2715D6D\"\n          },\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"code\": \"MR\",\n                  \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n                }\n              ]\n            },\n            \"use\": \"usual\",\n            \"value\": \"cl2\"\n          }\n        ],\n        \"item\": [\n          {\n            \"adjudication\": [\n              {\n                \"amount\": {\n                  \"value\": 90\n                },\n                \"category\": {\n                  \"text\": \"general\"\n                },\n                \"extension\": [\n                  {\n                    \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment+Item+Value\",\n                    \"valueDecimal\": 0.1,\n                    \"valueMoney\": 50,\n                    \"valueString\": \"NormalHibScheme \"\n                  }\n                ],\n                \"reason\": {\n                  \"coding\": [\n                    {\n                      \"code\": \"1\"\n                    }\n                  ],\n                  \"text\": \"passed\"\n                }\n              }\n            ],\n            \"sequenceLinkId\": 1\n          }\n        ],\n        \"outcome\": {\n          \"coding\": [\n            {\n              \"code\": \"4\"\n            }\n          ],\n          \"text\": \"checked\"\n        },\n        \"request\": {\n          \"reference\": \"Claim/B53003DB-DD77-40CD-86C9-973CA2715D6D\"\n        }\n      }}],\n      \"service_type\": \"OPD\",\n      \"item_code\": [\n        {\n          \"item_code\": \"LAB140\",\n          \"name\": \"STRING\",\n          \"qty\": 1,\n          \"cost\": 0,\n          \"category\": \"service\",\n          \"type\": \"medicine\"\n        }\n      ]\n    }\n</code></pre>"},{"location":"items/","title":"Items List","text":"<p>Endpoint: <code>GET /medicine</code></p>"},{"location":"items/#response-example","title":"Response Example","text":"<pre><code>[\n  \"count\": 1,  // total count of all the items in HIB catalogue\n  \"medicines\": [\n    {\n      \"code\": \"MED001IVFES\",\n      \"name\": \"10% DEXTROSE 500/540ML GLASS BTL.\",\n      \"type\": \"medicine\",\n      \"sub_type\": null,\n      \"rate_npr\": 70,\n      \"capping\": {\n        \"max_days\": null,\n        \"max_per_visit\": 10\n      },\n      \"claimable\": true\n    },\n    {\n      \"code\": \"MED001IVFES\",\n      \"name\": \"10% DEXTROSE 500/540ML GLASS BTL.\",\n      \"type\": \"medicine\",\n      \"sub_type\": null,\n      \"rate_npr\": 70,\n      \"capping\": {\n        \"max_days\": null,\n        \"max_per_visit\": 10\n      },\n      \"claimable\": true\n    }]\n]\n</code></pre>"},{"location":"patient_info_and_eligibility/","title":"Patient Info & Eligibility","text":"<p>Endpoint: <code>POST /Eligibility_check</code></p>"},{"location":"patient_info_and_eligibility/#request-body","title":"Request Body","text":""},{"location":"patient_info_and_eligibility/#header-requirement","title":"Header Requirement","text":"<pre><code>{\n  \"patient_identifier\": \"string\",\n  \"username\": \"Username\",\n  \"password\":\"User password\"\n}\n</code></pre>"},{"location":"patient_info_and_eligibility/#response-example","title":"Response Example","text":"<pre><code>{\n  \"patient_code\": \"740500036\",      \n  \"uuid\": \"C335B6A2-738C-4373-AFF4-DAD1B8B09645\",  \n  \"name\": \"Test Bima \",              \n  \"birthDate\": \"2016-04-07\",         \n  \"gender\": \"Male\",                  \n  \"copayment\": \"0.10\",                \n  \"allowed_money\": \"25520.00\",       \n  \"used_money\": \"0.00\",             \n  \"category\": \"medical\",             \n  \"policy_id\": \"HIB-3500\",          \n  \"policy_expiry\": \"2026-11-16\",      \n  \"imis\": {\n    \"resourceType\": \"Bundle\",         \n    \"entry\": [\n      {\n        \"fullUrl\": \"http://localhost/api/api_fhir/Patient/C335B6A2-738C-4373-AFF4-DAD1B8B09645\", \n        \"resource\": {\n          \"resourceType\": \"Patient\",   \n          \"address\": [\n            {\n              \"text\": \"0.0 0.0\",       \n              \"type\": \"both\",         \n              \"use\": \"home\"          \n            }\n          ],\n          \"birthDate\": \"2016-04-07\",  \n          \"extension\": [\n            {\n              \"url\": \"https://openimis.atlassian.net/wiki/spaces/OP/pages/960069653/FHIR+extension+isHead\",\n              \"valueBoolean\": true    \n            },\n            {\n              \"url\": \"https://openimis.atlassian.net/wiki/spaces/OP/pages/960331779/FHIR+extension+registrationDate\",\n              \"valueString\": \"2024-07-31 15:52:57.760000\" \n            },\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment\",\n              \"valueDecimal\": 0.1,    \n              \"valueString\": \"NormalHibScheme \" \n            }\n          ],\n          \"gender\": \"Male\",             \n          \"id\": \"C335B6A2-738C-4373-AFF4-DAD1B8B09645\", \n          \"identifier\": [\n            {\n              \"type\": { \"coding\": [{\"code\": \"ACSN\"}]},\n              \"use\": \"usual\",\n              \"value\": \"C335B6A2-738C-4373-AFF4-DAD1B8B09645\" \n            },\n            {\n              \"type\": { \"coding\": [{\"code\": \"SB\"}]},\n              \"use\": \"usual\",\n              \"value\": \"740500036\"    \n            }\n          ],\n          \"name\": [\n            {\n              \"family\": \"Number\",      \n              \"given\": [\"Test Bima \"], \n              \"use\": \"usual\"\n            }\n          ],\n          \"telecom\": [\n            {\n              \"system\": \"phone\",        \n              \"use\": \"home\",\n              \"value\": \"9871717177\"    \n            }\n          ]\n        }\n      }\n    ],\n    \"total\": 1                        \n  },\n  \"eligibility\": {\n    \"success\": true,                  \n    \"data\": {\n      \"resourceType\": \"EligibilityResponse\", \n      \"insurance\": [\n        {\n          \"benefitBalance\": [\n            {\n              \"category\": { \"text\": \"medical\" }, \n              \"financial\": [\n                {\n                  \"allowedMoney\": {\"value\": 25520}, \n                  \"usedMoney\": {\"value\": 0}     \n                }\n              ]\n            }\n          ],\n          \"contract\": {\"reference\": \"Contract/HIB-3500/2026-11-16 00:00:00\"}, \n          \"extension\": [\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment\",\n              \"valueDecimal\": 0.1,\n              \"valueString\": \"NormalHibScheme \"  \n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n\n</code></pre>"},{"location":"prevalidation/","title":"Prevalidation","text":"<p>Endpoint: <code>POST /prevalidate</code></p>"},{"location":"prevalidation/#header","title":"Header","text":"<pre><code>{\n  \"username\":\"username\",\n  \"password\":\"password\"\n}\n</code></pre>"},{"location":"prevalidation/#request-body","title":"Request Body","text":"<pre><code>{\n  \"patient_id\": \"740500036\",  // patient inusrance number\n  \"visit_date\": \"2025-12-09\",\n  \"service_type\": \"OPD\",      // service taken by the patient OPD, IPD, ER\n  \"service_code\": \"OPD1\",     // code of the service taken\n  \"doctor_nmc\": \"121\", // doctor's NMC number. This can be multiple and can be sent as a list\n  \"diagnosis\": {      // Provisional, Differential, final diagnosis with ICD code is required\n    \"provisional\": \"malaria\",\n    \"differential\": \"fever\",\n    \"final\": \"malaria\",\n    \"is_chronic\": false\n  },\n  \"icd_codes\": [\n    \"1F42\"\n  ],\n  \"claimable_items\": [    \n    {\n      \"type\": \"LAB\",\n      \"item_code\": \"LAB140\",\n      \"quantity\": 1,\n      \"cost\": 70,\n      \"name\": \"ammonia\",\n      \"category\": \"service\"  // Service or Item( according to HIB catalogue)\n    }\n  ],\n  \"hospital_type\": \"phc\",   // Types of hospital: PHC, Government, Private\n  \"enterer_reference\": \"7aa79c53-057e-4e77-8576-dfcfb03584a8\", // UUID provided of the enterer\n  \"facility_reference\": \"1ac457d3-efd3-4a67-89b3-bf8cbe18045d\", // Facility UUID\n  \"claim_time\": \"2025-12-09\",\n  \"claim_code\": \"CLM11\",  // Claim code: shall be upto 8 in length only\n  \"department\": \"ENT\"     // Department the patient took service from\n}\n</code></pre>"},{"location":"prevalidation/#response-example","title":"Response Example","text":"<pre><code>{\n  \"local_validation\": {\n    \"is_locally_valid\": false,\n    \"warnings\": [\n      \"Inter-department OPD visit within ticket validity requires referral documentation.\"\n    ],\n    \"items\": [\n      {\n        \"item_code\": \"LAB145\",\n        \"item_name\": \"AMMONIA\",\n        \"quantity\": 1,\n        \"claimable\": true,\n        \"approved_amount\": 960,\n        \"copay_amount\": 96,\n        \"warnings\": [],\n        \"type\": \"lab\"\n      }\n    ],\n    \"total_approved_local\": 960,\n    \"total_copay\": 96,\n    \"net_claimable\": 864,\n    \"applied_rules_version\": \"1.0\",\n    \"allowed_money\": 25520,\n    \"used_money\": 0,\n    \"available_money\": 25520\n  },\n  \"imis_patient\": {\n    \"resourceType\": \"Bundle\",\n    \"entry\": [\n      {\n        \"fullUrl\": \"http://localhost/api/api_fhir/Patient/C335B6A2-738C-4373-AFF4-DAD1B8B09645\",\n        \"resource\": {\n          \"resourceType\": \"Patient\",\n          \"address\": [\n            {\n              \"text\": \"0.0 0.0\",\n              \"type\": \"both\",\n              \"use\": \"home\"\n            }\n          ],\n          \"birthDate\": \"2016-04-07\",\n          \"extension\": [\n            {\n              \"url\": \"https://openimis.atlassian.net/wiki/spaces/OP/pages/960069653/FHIR+extension+isHead\",\n              \"valueBoolean\": true\n            },\n            {\n              \"url\": \"https://openimis.atlassian.net/wiki/spaces/OP/pages/960331779/FHIR+extension+registrationDate\",\n              \"valueString\": \"2024-07-31 15:52:57.760000\"\n            },\n            {\n              \"url\": \"https://openimis.atlassian.net/wiki/spaces/OP/pages/960495619/FHIR+extension+Location\",\n              \"valueString\": \"\"\n            },\n            {\n              \"url\": \"https://openimis.atlassian.net/wiki/spaces/OP/pages/960331788/FHIR+extension+Education\",\n              \"valueString\": \"\"\n            },\n            {\n              \"url\": \"https://openimis.atlassian.net/wiki/spaces/OP/pages/960135203/FHIE+extension+Profession\",\n              \"valueString\": \"\"\n            },\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment\",\n              \"valueDecimal\": 0.1,\n              \"valueString\": \"NormalHibScheme \"\n            },\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Profile+Photo+Url\",\n              \"valueString\": \"\"\n            },\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Profile+FSP\",\n              \"valueString\": \"\"\n            },\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Profile+District\",\n              \"valueString\": \"\"\n            }\n          ],\n          \"gender\": \"Male\",\n          \"id\": \"C335B6A2-738C-4373-AFF4-DAD1B8B09645\",\n          \"identifier\": [\n            {\n              \"type\": {\n                \"coding\": [\n                  {\n                    \"code\": \"ACSN\",\n                    \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n                  }\n                ]\n              },\n              \"use\": \"usual\",\n              \"value\": \"C335B6A2-738C-4373-AFF4-DAD1B8B09645\"\n            },\n            {\n              \"type\": {\n                \"coding\": [\n                  {\n                    \"code\": \"SB\",\n                    \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n                  }\n                ]\n              },\n              \"use\": \"usual\",\n              \"value\": \"740500036\"\n            },\n            {\n              \"type\": {\n                \"coding\": [\n                  {\n                    \"code\": \"PPN\",\n                    \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n                  }\n                ]\n              },\n              \"use\": \"usual\",\n              \"value\": \"\"\n            }\n          ],\n          \"name\": [\n            {\n              \"family\": \"Number\",\n              \"given\": [\n                \"Test Bima \"\n              ],\n              \"use\": \"usual\"\n            }\n          ],\n          \"telecom\": [\n            {\n              \"system\": \"phone\",\n              \"use\": \"home\",\n              \"value\": \"9871717177\"\n            },\n            {\n              \"system\": \"email\",\n              \"use\": \"home\",\n              \"value\": \"\"\n            }\n          ]\n        }\n      }\n    ],\n    \"link\": [\n      {\n        \"relation\": \"self\",\n        \"url\": \"http://localhost/api/api_fhir/Patient/?identifier=740500036\"\n      }\n    ],\n    \"total\": 1,\n    \"type\": \"searchset\"\n  },\n  \"eligibility\": {\n    \"success\": true,\n    \"data\": {\n      \"resourceType\": \"EligibilityResponse\",\n      \"extension\": [\n        {\n          \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Profile+Photo+Url\",\n          \"valueString\": \"https://imis.hib.gov.np/Images\\\\Updated\\\\/740500036_kat1_20240421_0.0_0.0.jpg\"\n        },\n        {\n          \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Profile+FSP\",\n          \"valueString\": \"TESTHF1 TEST API HOSPITAL\"\n        },\n        {\n          \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Profile+District\",\n          \"valueString\": \"\"\n        }\n      ],\n      \"insurance\": [\n        {\n          \"benefitBalance\": [\n            {\n              \"category\": {\n                \"text\": \"medical\"\n              },\n              \"financial\": [\n                {\n                  \"allowedMoney\": {\n                    \"value\": 25520\n                  },\n                  \"usedMoney\": {\n                    \"value\": 0\n                  }\n                }\n              ]\n            }\n          ],\n          \"contract\": {\n            \"reference\": \"Contract/HIB-3500/2026-11-16 00:00:00\"\n          },\n          \"extension\": [\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment\",\n              \"valueDecimal\": 0.1,\n              \"valueString\": \"NormalHibScheme \"\n            }\n          ]\n        },\n        {\n          \"benefitBalance\": [\n            {\n              \"category\": {\n                \"text\": \"medical\"\n              },\n              \"financial\": [\n                {\n                  \"allowedMoney\": {\n                    \"value\": 99950\n                  },\n                  \"usedMoney\": {\n                    \"value\": 0\n                  }\n                }\n              ]\n            }\n          ],\n          \"contract\": {\n            \"reference\": \"Contract/HIB-8D/2026-11-16 00:00:00\"\n          },\n          \"extension\": [\n            {\n              \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment\",\n              \"valueDecimal\": 0.1,\n              \"valueString\": \"NormalHibScheme \"\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"services/","title":"Services List","text":"<p>Endpoint: <code>GET /packages</code></p>"},{"location":"services/#response-example","title":"Response Example","text":"<pre><code>[\n  \"count\": 1,  // total count of all the services which are claimable as per HIB catalogue\n  \"packages\": [\n    {\n      \"code\": \"IPDB1\",\n      \"name\": \"Nebulization per episode\",\n      \"type\": \"bed_charges\",\n      \"package_group\": \"Day Care\",\n      \"rate_npr\": 120,\n      \"includes\": [\n        \"bed_charge\",\n        \"consultation\",\n        \"investigations\",\n        \"medications\"\n      ],\n      \"icu_included\": false,\n      \"ccu_included\": false,\n      \"claim_mode\": \"bundled_per_admission\",\n      \"claimable\": true,\n      \"capping\": {\n        \"max_days\": null,\n        \"max_per_visit\": 99999\n      }\n    },\n    {\n      \"code\": \"MM1\",\n      \"name\": \"Speech Therapy per session\",\n      \"type\": \"medical_management\",\n      \"package_group\": \"Day Care\",\n      \"rate_npr\": 180,\n      \"includes\": [\n        \"bed_charge\",\n        \"consultation\",\n        \"investigations\",\n        \"medications\"\n      ],\n      \"icu_included\": false,\n      \"ccu_included\": false,\n      \"claim_mode\": \"bundled_per_admission\",\n      \"claimable\": true,\n      \"capping\": {\n        \"max_days\": null,\n        \"max_per_visit\": 99999\n      }\n    }]\n]\n</code></pre>"},{"location":"submit_claim/","title":"Claim Submission","text":"<p>Endpoint: <code>POST /submit_claim</code></p>"},{"location":"submit_claim/#header","title":"Header","text":"<pre><code>{\n  \"username\":\"username\",\n  \"password\":\"password\"\n}\n</code></pre>"},{"location":"submit_claim/#request-body","title":"Request Body","text":"<pre><code>{\n  \"patient_id\": \"740500036\",  // patient inusrance number\n  \"visit_date\": \"2025-12-09\",\n  \"service_type\": \"OPD\",      // service taken by the patient OPD, IPD, ER\n  \"service_code\": \"OPD1\",     // code of the service taken\n  \"doctor_nmc\": \"121\", // doctor's NMC number. This can be multiple and can be sent as a list\n  \"diagnosis\": {      // Provisional, Differential, final diagnosis with ICD code is required\n    \"provisional\": \"malaria\",\n    \"differential\": \"fever\",\n    \"final\": \"malaria\",\n    \"is_chronic\": false\n  },\n  \"icd_codes\": [\n    \"1F42\"\n  ],\n  \"claimable_items\": [    \n    {\n      \"type\": \"LAB\",\n      \"item_code\": \"LAB140\",\n      \"quantity\": 1,\n      \"cost\": 70,\n      \"name\": \"ammonia\",\n      \"category\": \"service\"  // Service or Item( according to HIB catalogue)\n    }\n  ],\n  \"hospital_type\": \"phc\",   // Types of hospital: PHC, Government, Private\n  \"enterer_reference\": \"7aa79c53-057e-4e77-8576-dfcfb03584a8\", // UUID provided of the enterer\n  \"facility_reference\": \"1ac457d3-efd3-4a67-89b3-bf8cbe18045d\", // Facility UUID\n  \"claim_time\": \"2025-12-09\",\n  \"claim_code\": \"CLM11\",  // Claim code: shall be upto 8 in length only\n  \"department\": \"ENT\"     // Department the patient took service from\n}\n</code></pre>"},{"location":"submit_claim/#response-example","title":"Response Example","text":"<pre><code>{\n  \"message\": \"Claim successfully submitted to IMIS\",\n  \"claim_code\": \"CLM11\",\n  \"status\": \"checked\",\n  \"submitted_at\": \"2025-12-09T06:57:26.777470\",\n  \"created_at\": \"2025-12-09T00:00:00\",\n  \"items\": [\n    {\n      \"sequence_id\": 1,\n      \"item_code\": \"LAB130\",\n      \"status\": \"passed\"\n    }\n  ],\n  \"IMIS_response\": {\n    \"resourceType\": \"ClaimResponse\",\n    \"addItem\": [\n      {\n        \"sequenceLinkId\": [\n          1\n        ],\n        \"service\": {\n          \"coding\": [\n            {\n              \"code\": \"LAB130\"\n            }\n          ]\n        }\n      }\n    ],\n    \"created\": \"2025-12-09\",\n    \"extension\": [\n      {\n        \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment+Claim+Total\",\n        \"valueDecimal\": 0.1,\n        \"valueMoney\": 7,\n        \"valueString\": \"NormalHibScheme \"\n      }\n    ],\n    \"id\": \"79DCDCEA-628A-4E27-8ADB-6561F700E274\",\n    \"identifier\": [\n      {\n        \"type\": {\n          \"coding\": [\n            {\n              \"code\": \"ACSN\",\n              \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n            }\n          ]\n        },\n        \"use\": \"usual\",\n        \"value\": \"79DCDCEA-628A-4E27-8ADB-6561F700E274\"\n      },\n      {\n        \"type\": {\n          \"coding\": [\n            {\n              \"code\": \"MR\",\n              \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n            }\n          ]\n        },\n        \"use\": \"usual\",\n        \"value\": \"CLM11\"\n      }\n    ],\n    \"item\": [\n      {\n        \"adjudication\": [\n          {\n            \"amount\": {\n              \"value\": 90\n            },\n            \"category\": {\n              \"text\": \"general\"\n            },\n            \"extension\": [\n              {\n                \"url\": \"https://hib.gov.np/fhir/FHIE+extension+Copayment+Item+Value\",\n                \"valueDecimal\": 0.1,\n                \"valueMoney\": 7,\n                \"valueString\": \"NormalHibScheme \"\n              }\n            ],\n            \"reason\": {\n              \"coding\": [\n                {\n                  \"code\": \"1\"\n                }\n              ],\n              \"text\": \"passed\"\n            }\n          }\n        ],\n        \"sequenceLinkId\": 1\n      }\n    ],\n    \"outcome\": {\n      \"coding\": [\n        {\n          \"code\": \"4\"\n        }\n      ],\n      \"text\": \"checked\"\n    },\n    \"request\": {\n      \"reference\": \"Claim/79DCDCEA-628A-4E27-8ADB-6561F700E274\"\n    }\n  },\n  \"payload\": {\n    \"resourceType\": \"Claim\",\n    \"billablePeriod\": {\n      \"start\": \"2025-12-09\",\n      \"end\": \"2025-12-09\"\n    },\n    \"created\": \"2025-12-09T06:57:22.911370\",\n    \"patient\": {\n      \"reference\": \"Patient/C335B6A2-738C-4373-AFF4-DAD1B8B09645\"\n    },\n    \"identifier\": [\n      {\n        \"type\": {\n          \"coding\": [\n            {\n              \"code\": \"ACSN\",\n              \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n            }\n          ]\n        },\n        \"use\": \"usual\",\n        \"value\": \"498160191ec7414390b52a0360082cff\"\n      },\n      {\n        \"type\": {\n          \"coding\": [\n            {\n              \"code\": \"MR\",\n              \"system\": \"https://hl7.org/fhir/valueset-identifier-type.html\"\n            }\n          ]\n        },\n        \"use\": \"usual\",\n        \"value\": \"CLM11\"\n      }\n    ],\n    \"item\": [\n      {\n        \"sequence\": 1,\n        \"category\": {\n          \"text\": \"service\"\n        },\n        \"quantity\": {\n          \"value\": 1\n        },\n        \"service\": {\n          \"text\": \"LAB130\"\n        },\n        \"unitPrice\": {\n          \"value\": 70\n        }\n      }\n    ],\n    \"total\": {\n      \"value\": 70\n    },\n    \"careType\": \"O\",\n    \"enterer\": {\n      \"reference\": \"Practitioner/7aa79c53-057e-4e77-8576-dfcfb03584a8\"\n    },\n    \"facility\": {\n      \"reference\": \"Location/1ac457d3-efd3-4a67-89b3-bf8cbe18045d\"\n    },\n    \"diagnosis\": [\n      {\n        \"sequence\": 1,\n        \"type\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"icd_0\"\n              }\n            ],\n            \"text\": \"icd_0\"\n          }\n        ],\n        \"diagnosisCodeableConcept\": {\n          \"coding\": [\n            {\n              \"code\": \"1F42\"\n            }\n          ]\n        }\n      }\n    ],\n    \"nmc\": \"121\",\n    \"type\": {\n      \"text\": \"O\"\n    }\n  },\n  \"system_info\": {\n    \"source\": \"Unknown\",\n    \"ip\": \"127.0.0.1\",\n    \"user_agent\": \"Mozilla/5.0 (X11; Linux x86_64; rv:143.0) Gecko/20100101 Firefox/143.0\",\n    \"timestamp\": \"2025-12-09T06:57:26.777451\"\n  },\n  \"prevalidation_summary\": {\n    \"is_locally_valid\": false,\n    \"warnings\": [\n      \"Inter-department OPD visit within ticket validity requires referral documentation.\"\n    ],\n    \"items\": [\n      {\n        \"item_code\": \"LAB130\",\n        \"item_name\": \"AMMONIA\",\n        \"quantity\": 1,\n        \"claimable\": true,\n        \"approved_amount\": 180,\n        \"copay_amount\": 18,\n        \"warnings\": [],\n        \"type\": \"lab\"\n      }\n    ],\n    \"total_approved_local\": 180,\n    \"total_copay\": 18,\n    \"net_claimable\": 162,\n    \"applied_rules_version\": \"1.0\",\n    \"allowed_money\": 25520,\n    \"used_money\": 0,\n    \"available_money\": 25520\n  },\n  \"warnings\": [\n    \"Inter-department OPD visit within ticket validity requires referral documentation.\"\n  ]\n}\n</code></pre>"}]}